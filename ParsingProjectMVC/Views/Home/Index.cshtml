@model IEnumerable<ParsingProjectMVC.Models.KuyuModel>

@{
    ViewData["Title"] = "Home Page";
}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/">ParsingProjectMVC</a>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="/">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/Home/SurfaceDetail">Surface</a>
            </li>
        </ul>
    </div>
</nav>

<div class="text-center">
    <h1 class="display-4">Harita</h1>
</div>

<div id="map" style="height: 600px;"></div>

<!-- Leaflet CSS ve JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<script>
    var map = L.map('map').setView([38.963745, 35.243322], 6); // Türkiye'nin merkezi

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    @foreach (var kuyu in Model)
    {
        <text>
            L.marker([@kuyu.Enlem, @kuyu.Boylam]).addTo(map)
                .bindPopup('Kuyu Adı: @kuyu.KuyuAdi <br> Enlem: @kuyu.Enlem <br> Boylam: @kuyu.Boylam <br><a href="/Home/KuyuDetail/@kuyu.Id">3D Görselleştirme</a>');
        </text>
    }
</script>
