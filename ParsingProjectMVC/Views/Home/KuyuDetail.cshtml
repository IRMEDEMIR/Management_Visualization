<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Well Visualization</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="well-3d-plot" style="width: 100%; height: 600px;"></div>
    <script>
        // JSON dosyasını yükleyip işleyen fonksiyon
        async function loadAndPlotData() {
            try {
                // JSON dosyasının URL'sini belirtin
                const response = await fetch('/data/TestWellDirectionSurvey.json');
                const wellData = await response.json();

                // Son iki terimi çıkarıyoruz
                const path = wellData.path.slice(0, -2);

                // Veriyi 3D grafiğe dönüştürüyoruz
                const x = path.map(point => point[0]);
                const y = path.map(point => point[1]);
                const z = path.map(point => point[2]);

                const trace = {
                    x: x,
                    y: y,
                    z: z,
                    mode: 'lines',
                    type: 'scatter3d',
                    line: {
                        color: 'blue',
                        width: 6
                    }
                };

                const layout = {
                    scene: {
                        xaxis: { title: 'DX' },
                        yaxis: { title: 'DY' },
                        zaxis: { title: 'TVD' }
                    },
                    title: '3D Well Path'
                };

                Plotly.newPlot('well-3d-plot', [trace], layout);
            } catch (error) {
                console.error('Error loading or plotting data:', error);
            }
        }

        // Fonksiyonu çağırarak veriyi yükleyip grafiği oluşturuyoruz
        loadAndPlotData();
    </script>
</body>
</html>
